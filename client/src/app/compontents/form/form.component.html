<app-home></app-home>
<form name="myForm" #myForm="ngForm" id="f">
    <table class="example-full-width" cellspacing="0">
        <tr>
            <td><mat-form-field appearance="fill">
            <mat-label> ת.ז: </mat-label>
            <input matInput type="text" name="tz" placeholder="tz" [(ngModel)]="userService.myUser.Tz" maxlength="9"
                minlength="9" pattern="[0-9]+" #tz="ngModel" required>
        </mat-form-field> 
        <p *ngIf="tz.touched && tz.invalid" class="error"> TZ is not valid!</p></td>
        <td><mat-form-field appearance="fill">
            <mat-label> שם פרטי </mat-label>
            <input matInput type="text" name="fName" placeholder="{{userService.myUser.FirstName}}"
                [(ngModel)]="userService.myUser.FirstName" pattern="[a-zA-Zא-ת ]*" #fName="ngModel" required />
        </mat-form-field>
        <p *ngIf="fName.touched && fName.invalid" class="error"> First name is required! </p></td>
        <td><mat-form-field appearance="fill">
            <mat-label> שם משפחה </mat-label>
            <input matInput type="text" name="lName" placeholder="{{userService.myUser.LastName}}"
                [(ngModel)]="userService.myUser.LastName" #lName="ngModel" required />
            <p *ngIf="lName.touched && lName.invalid" class="error"> Last name is required! </p>
        </mat-form-field> </td>
        <td><mat-form-field appearance="fill">
            <mat-label> תאריך לידה </mat-label>
            <input matInput type="date" name="dob" [(ngModel)]="userService.myUser.BirthDate" #dob="ngModel"
                min="1923-01-01" max="2023-01-01" required />
        </mat-form-field>
        <p *ngIf="dob.touched && dob.invalid" class="error">The date is not valid!</p></td>
        <td><mat-form-field appearance="fill">
            <mat-label> מין </mat-label>
            <mat-select [(ngModel)]="userService.myUser.eGender" formControlName="gender" name="gender" #gender="ngModel" required>
                <mat-option [value]="1">זכר</mat-option>
                <mat-option [value]="2">נקבה</mat-option>
            </mat-select>
        </mat-form-field></td>
        <td><mat-form-field appearance="fill">
            <mat-label> קופת חולים </mat-label>
            <mat-select [(ngModel)]="userService.myUser.eHMO"  formControlName="HMO" name="HMO" required>
                <mat-option [value]="1">מאוחדת</mat-option>
                <mat-option [value]="2">מכבי</mat-option>
                <mat-option [value]="3">לאומית</mat-option>
                <mat-option [value]="4">כללית</mat-option>
            </mat-select>
        </mat-form-field>
    </td>
    </tr>
</table>

        <div>
              <button mat-raised-button class="example-button-row" (click)="addChild()">הוספת ילד</button>
        <div>
              <button type="submit" (click)="addUser()" mat-raised-button class="example-button-row" generateExcel() [disabled]="!myForm.valid">אישור</button>
        </div>    
        <div class="addNewChild">
        <mat-form-field appearance="fill">
            <mat-label> ת.ז </mat-label>
            <input  type="text" name="childTz" [(ngModel)]="userService.myChild.Tz" 
                placeholder="id" matInput/>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label> שם </mat-label>
            <input  type="text" name="childName" [(ngModel)]="userService.myChild.FullName"
                placeholder="full name" matInput/>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label> תאריך לידה </mat-label>
            <input  type="date" name="childBD" [(ngModel)]="userService.myChild.BirthDate" 
            #childBD="ngModel" matInput/>
        </mat-form-field>
     
    </div>
</form>
